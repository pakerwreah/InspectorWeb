(function(e){function t(t){for(var n,r,o=t[0],c=t[1],l=t[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=s[0]))}return e}var n={},a={app:0},i=[];function r(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=n,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0dc9":function(e,t,s){"use strict";var n=s("5018"),a=s.n(n);a.a},"0f32":function(e,t,s){},1:function(e,t){},"111f":function(e,t,s){"use strict";var n=s("20bf"),a=s.n(n);a.a},1543:function(e,t,s){},"1c1c":function(e,t,s){"use strict";var n=s("bbab"),a=s.n(n);a.a},2:function(e,t){},"20bf":function(e,t,s){},2696:function(e,t,s){"use strict";var n=s("ced4"),a=s.n(n);a.a},"2a84":function(e,t,s){"use strict";var n=s("ef47"),a=s.n(n);a.a},"404b":function(e,t,s){"use strict";var n=s("95e1"),a=s.n(n);a.a},4332:function(e,t,s){"use strict";var n=s("e428"),a=s.n(n);a.a},"4fc2":function(e,t,s){"use strict";var n=s("b4d4"),a=s.n(n);a.a},5018:function(e,t,s){},"539f":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("v-app",[s("v-content",[s("v-stepper",{attrs:{"non-linear":""},model:{value:e.current_page,callback:function(t){e.current_page=t},expression:"current_page"}},[s("v-stepper-header",[e._l(e.pages,(function(t,n){return s("v-stepper-step",{key:n,attrs:{step:n+1,complete:e.current_page===n+1,color:"primary",editable:""}},[s("v-layout",[e._v(" "+e._s(t.name)+" "),"network"===t.key&&e.requests>0?s("v-flex",{staticClass:"badge step-badge",attrs:{"align-self-center":"","text-center":""}},[e._v(" "+e._s(e.requests)+" ")]):e._e()],1)],1)})),s("v-spacer"),s("v-flex",{attrs:{"align-self-center":"","pr-1":"",shrink:""}},[s("v-flex",{attrs:{"align-self-center":"","pr-1":"",shrink:""}},[s("v-btn",{attrs:{icon:""},on:{click:function(t){e.settings_popup=!0}}},[s("v-icon",[e._v("mdi-cog")])],1)],1)],1)],2),s("v-stepper-items",[s("v-stepper-content",{attrs:{step:1}},[s("Database")],1),s("v-stepper-content",{attrs:{step:2}},[s("Network",{attrs:{active:2===e.current_page,settings:e.settings.network,ip:e.host.ip,port:e.settings.port},on:{requests:e.setRequestsCount}})],1),e._l(e.plugins,(function(t,n){return s("v-stepper-content",{key:t.key,attrs:{step:n+3}},[s("Plugin",{attrs:{active:e.current_page===n+3,plugin:t}})],1)}))],2)],1)],1),s("v-footer",{attrs:{app:""}},[s("v-layout",[s("v-flex",[e.electron?s("DevicePicker",{attrs:{devices:e.devices},model:{value:e.host,callback:function(t){e.host=t},expression:"host"}}):s("IPTextField",{model:{value:e.host,callback:function(t){e.host=t},expression:"host"}})],1),s("v-flex",{attrs:{shrink:"","align-self-center":""}},[s("v-fade-transition",[s("v-row",{directives:[{name:"show",rawName:"v-show",value:e.current_page<=1,expression:"current_page <= 1"}],staticClass:"mr-2"},[s("span",{staticClass:"version"},[s("span",{class:{strike:e.release}},[e._v("v"+e._s(e.version))]),e.release?s("span",{staticClass:"white--text ml-2"},[e._v("v"+e._s(e.release.name))]):e._e()]),e.release?s("v-icon",{staticClass:"green--text pointer ml-1",attrs:{small:""},on:{click:function(t){return e.open(e.release.url)}}},[e._v(" mdi-download ")]):e._e()],1)],1)],1)],1)],1),s("Settings",{attrs:{settings:e.settings},on:{"update:settings":function(t){e.settings=t}},model:{value:e.settings_popup,callback:function(t){e.settings_popup=t},expression:"settings_popup"}})],1)],1)},i=[],r=(s("99af"),s("4de4"),s("7db0"),s("caad"),s("45fc"),s("d3b7"),s("ac1f"),s("2532"),s("1276"),s("5530")),o=s("b85c"),c=s("15fd"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("splitpanes",{staticClass:"default-theme fill-height"},[s("pane",{staticStyle:{"min-width":"250px"},attrs:{size:"15","max-size":"40"}},[s("TreeView",{attrs:{databases:e.databases,currentdb:e.currentdb,schema:e.schema,progress:e.progress},on:{selectDB:e.selectDB,query:e.queryTable}})],1),s("pane",{attrs:{size:"85"}},[s("splitpanes",{attrs:{horizontal:""},on:{resize:e.resize}},[s("pane",[s("SqlConsole",{ref:"console",attrs:{schema:e.schema},on:{query:e.query}}),s("v-overlay",{attrs:{absolute:"",value:!e.schema.tables}})],1),e.loading||e.error||e.result?s("pane",[e.error?s("div",{staticClass:"error--text ma-2"},[e._v(e._s(e.error))]):e._e(),s("TableView",{directives:[{name:"show",rawName:"v-show",value:e.loading||!e.error&&e.result,expression:"loading || (!error && result)"}],attrs:{sql:e.last_query,result:e.result,loading:e.loading},on:{reload:e.query}}),!e.error&&e.result?s("div",{staticClass:"result-info"},[e._v(e._s(e.info))]):e._e()],1):e._e()],1)],1)],1)},u=[],d=(s("c975"),s("d81d"),s("fb6a"),s("4fad"),s("498a"),s("3835")),h=(s("96cf"),s("1da1")),p=s("2ef0"),f=s("512e"),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"console-wrapper"},[s("div",{staticClass:"d-flex align-center"},[s("v-btn",{staticClass:"ml-3",attrs:{icon:"","x-small":"",color:"neutral"},on:{click:function(t){e.history_popup=!0}}},[s("v-icon",[e._v("mdi-history")])],1),s("v-btn",{staticClass:"ml-2",attrs:{icon:"",small:"",color:"success"},on:{click:e.executeQuery}},[s("v-icon",[e._v("mdi-play")])],1),s("v-spacer"),s("v-checkbox",{staticClass:"my-0 py-0 mr-2",attrs:{label:"Script",dense:"","hide-details":""},model:{value:e.script,callback:function(t){e.script=t},expression:"script"}})],1),s("Editor",{ref:"console",attrs:{lang:"mysql",theme:e.theme,options:e.editorOptions},model:{value:e.sql,callback:function(t){e.sql=t},expression:"sql"}}),s("SqlHistory",{on:{selected:e.historySelected},model:{value:e.history_popup,callback:function(t){e.history_popup=t},expression:"history_popup"}})],1)},m=[],b=(s("4160"),s("13d5"),s("b64b"),s("07ac"),s("4d63"),s("25f0"),s("8a79"),s("159b"),s("7c9e")),g=s.n(b),_=(s("61fa"),s("95b8"),s("79fb"),s("2099"),s("56e3"),s("6c3b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"content-class":"sql-history-popup"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[s("v-card",{staticClass:"sql-history-container",attrs:{height:"100%"}},[s("v-card-title",{staticClass:"pa-1"},[s("v-layout",{staticClass:"text-center"},[s("v-flex",[e._v("SQL History")])],1),s("v-btn",{attrs:{color:"neutral",small:"",icon:"",absolute:"",right:""},on:{click:function(t){e.open=!1}}},[s("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1)],1),s("v-card-text",{staticClass:"pa-0 flex relative"},[s("splitpanes",{staticClass:"default-theme absolute-expand"},[s("pane",{staticStyle:{"min-width":"250px"},attrs:{size:"40"}},[s("v-layout",{staticClass:"fill-height",attrs:{column:""}},[s("v-btn-toggle",{attrs:{mandatory:"",borderless:"",color:"accent"},model:{value:e.favorites,callback:function(t){e.favorites=t},expression:"favorites"}},[s("v-btn",{staticClass:"flex flex-basis-0",attrs:{value:!1,small:""}},[e._v("All")]),s("v-btn",{staticClass:"flex flex-basis-0",attrs:{value:!0,small:""}},[e._v("Favorites")])],1),s("v-list",{staticClass:"sql-history-list pt-0 overflow-y-auto fill-height",attrs:{dense:""}},[s("v-list-item-group",{attrs:{mandatory:"",color:"primary"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._l(e.items,(function(t,n){return[s("v-hover",{key:n,scopedSlots:e._u([{key:"default",fn:function(a){var i=a.hover;return[s("v-list-item",{staticClass:"sql-history-item px-2",class:{selected:e.selected===n},on:{dblclick:function(s){return e.selectItem(t)}}},[s("v-list-item-content",[s("v-list-item-subtitle",[s("small",[e._v(e._s(e.formatTimestamp(t.timestamp)))]),i||t.favorite?s("v-btn",{staticClass:"favorite-btn",attrs:{"x-small":"",icon:""},on:{mousedown:function(e){e.stopPropagation()},click:function(s){return s.stopPropagation(),e.toggleFavorite(t)}}},[t.favorite?s("v-icon",{attrs:{color:"accent","x-small":""}},[e._v(" mdi-star ")]):s("v-icon",{attrs:{"x-small":""}},[e._v(" mdi-star-outline ")])],1):e._e()],1),s("v-list-item-title",[e._v(e._s(t.sql))])],1)],1)]}}],null,!0)}),s("v-divider",{key:"divider"+n})]}))],2)],1)],1)],1),s("pane",[s("div",{staticClass:"fill-height overflow-y-auto px-3 pb-5"},[e.selected>=0?s("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.items[e.selected].sql,expression:"items[selected].sql"}],class:e.codestyle},[s("code",{staticClass:"sql"})]):e._e()])])],1)],1)],1)],1)}),y=[];s("a15b"),s("b680");function x(e){return new Promise((function(t){return setTimeout(t,e)}))}function k(e,t){var s=new Date,n=new Date(e);return t||s.toDateString()!==n.toDateString()?n.toLocaleString():n.toLocaleTimeString()}function w(e){var t=e.sec,s=e.usec,n=[];return t&&n.push("".concat(t," second")+(t>1?"s":"")),s&&n.push("".concat((s/1e3).toFixed(2)," milliseconds")),n.join(" and ")}var q={name:"SqlHistory",components:{Splitpanes:f["Splitpanes"],Pane:f["Pane"]},props:{value:Boolean},data:function(){return{favorites:!1,selected:-1,prev_item:void 0,history:[]}},computed:{open:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},codestyle:function(){return this.dark_mode?"dark":"light"},items:function(){var e=this;return this.history.filter((function(t){return!e.favorites||t.favorite}))}},watch:{open:{handler:"initialize",immediate:!0},selected:function(e){this.prev_item=e>=0?this.items[e]:void 0},items:function(){var e=this.items.length,t=this.prev_item?this.items.map((function(e){return e.sql})).indexOf(this.prev_item.sql):-1;t>=0?this.selected=t:(this.favorites||this.selected<0)&&e?this.selected=0:this.selected>=e&&(this.selected=e-1),this.prev_item=this.selected>=0?this.items[this.selected]:void 0}},mounted:function(){this.keyboard=this.keyboard.bind(this),document.addEventListener("keydown",this.keyboard)},beforeDestroy:function(){document.removeEventListener("keydown",this.keyboard)},methods:{initialize:function(){var e=this;this.history=JSON.parse(localStorage.getItem("sql_history")||"[]"),this.open&&this.selected>=0&&requestAnimationFrame((function(){e.$vuetify.goTo(".sql-history-item.selected",{container:".sql-history-list",duration:0})}))},toggleFavorite:function(e){this.$set(e,"favorite",!e.favorite),localStorage.setItem("sql_history",JSON.stringify(this.history))},selectItem:function(e){var t=e.sql;this.$emit("selected",t),this.open=!1},keyboard:function(e){var t=this;if(this.open){var s=9,n=13,a=27,i=32,r=38,o=40,c=e.keyCode;switch(c){case a:this.open=!1;break;case s:e.preventDefault(),this.favorites=!this.favorites;break;case i:if(this.selected>=0){e.preventDefault();var l=this.items[this.selected];this.toggleFavorite(l)}break;case n:if(e.preventDefault(),this.selected>=0){var u=this.items[this.selected];this.selectItem(u)}break;case r:case o:e.preventDefault();var d=this.items.length;d>0&&this.selected>=0&&(c===r?this.selected>0&&this.selected--:this.selected<d-1&&this.selected++,requestAnimationFrame((function(){var e=document.querySelector(".sql-history-list").clientHeight,s=document.querySelector(".sql-history-item.selected").clientHeight,n=(e-s)/2;t.$vuetify.goTo(".sql-history-item.selected",{container:".sql-history-list",duration:200,offset:n})})));break}}},formatTimestamp:k}},C=q,S=(s("c748"),s("4fc2"),s("2877")),V=s("6544"),j=s.n(V),O=s("8336"),T=s("a609"),R=s("b0af"),$=s("99d9"),F=s("169a"),D=s("ce7e"),I=s("0e8f"),L=s("ce87"),P=s("132d"),B=s("a722"),E=s("8860"),N=s("da13"),A=s("5d23"),z=s("1baa"),H=Object(S["a"])(C,_,y,!1,null,"4ec4e100",null),M=H.exports;j()(H,{VBtn:O["a"],VBtnToggle:T["a"],VCard:R["a"],VCardText:$["a"],VCardTitle:$["b"],VDialog:F["a"],VDivider:D["a"],VFlex:I["a"],VHover:L["a"],VIcon:P["a"],VLayout:B["a"],VList:E["a"],VListItem:N["a"],VListItemContent:A["a"],VListItemGroup:z["a"],VListItemSubtitle:A["b"],VListItemTitle:A["c"]});var J={name:"SqlConsole",components:{Editor:g.a,SqlHistory:M},props:{value:String,schema:Object},data:function(){return{sql:"",script:!1,history_popup:!1}},computed:{theme:function(){return this.dark_mode?"twilight":"chrome"},editor:function(){return this.$refs.console.editor},editorOptions:function(){return{enableBasicAutocompletion:[U],enableLiveAutocompletion:[U]}}},watch:{schema:function(e){Object.assign(W,e)},sql:function(e){localStorage.setItem("sql",e)},script:function(e){localStorage.setItem("script",e)}},mounted:function(){var e=this;this.sql=localStorage.getItem("sql")||"",this.script=JSON.parse(localStorage.getItem("script"))||!1,Object.assign(W,this.schema),this.$on("resize",(function(){e.editor.resize()}));var t=function(){e.executeQuery()},s=["Ctrl-Enter","Command-Enter"].map((function(e,s){return{name:"query"+s,bindKey:e,exec:t}}));s.forEach((function(t){return e.editor.commands.addCommand(t)}))},methods:{executeQuery:function(){this.$emit("query",this.editor.getSelectedText()||this.sql,this.script)},historySelected:function(e){this.sql=e,this.editor.focus()}}},W={},U={getCompletions:function(e,t,s,n,a){var i=[];if(W.tables){var r=t.doc.positionToIndex(s),o=e.getValue(),c=/[^a-zA-Z_0-9$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/,l=function(e){return(Array.isArray(e)?e:Object.keys(e)).filter((function(e){return e.includes(n)})).map((function(e){return{name:e,value:e}}))},u=o.substring(0,r-n.length);if(/\b(from|join|update|table)\b\W+$/i.test(u))i=l(W.tables);else if(u.endsWith(".")){var h=u.substr(0,u.length-1).split(c).pop(),p=W.tables[h];p&&(i=l(p.columns))}if(!i.length&&n.length>=2){for(var f=0,v=Object.entries(W.tables);f<v.length;f++){var m=Object(d["a"])(v[f],2),b=m[0],g=m[1];new RegExp("\\b"+b+"\\b").test(o)&&(i=i.concat(l(g.columns)))}i.length||(i=Object.values(W.tables).reduce((function(e,t){return e.concat(l(t.columns))}),[]).concat(l(W.tables)))}}a(null,i)}},G=J,K=(s("d4af"),s("ac7c")),Q=s("2fa4"),Y=Object(S["a"])(G,v,m,!1,null,null,null),Z=Y.exports;j()(Y,{VBtn:O["a"],VCheckbox:K["a"],VIcon:P["a"],VSpacer:Q["a"]});var X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"result-container"},[s("v-data-table",{ref:"dt",staticClass:"result-table fill-height",attrs:{loading:e.loading,"loading-text":"Executing query...",headers:e.headers,items:e.items,"items-per-page":10,"sort-by":e.sort,height:"100%",dense:"","fixed-header":"","footer-props":{"items-per-page-options":[10,20,30,-1]}},scopedSlots:e._u([{key:"no-data",fn:function(){return[s("div",{staticClass:"no-data"},[s("div",[e._v("No data available")])])]},proxy:!0},e.loading?null:{key:"body.prepend",fn:function(){return[s("tr",e._l(e.headers.length,(function(t){return s("td",{directives:[{name:"show",rawName:"v-show",value:e.visible[t-1],expression:"visible[i-1]"}],key:t},[s("v-text-field",{staticClass:"result-search",attrs:{"append-icon":"mdi-magnify","background-color":"controls",autocomplete:"disabled",spellcheck:"false",dense:"","hide-details":""},on:{input:function(s){return e.updateSearch(t-1)}},model:{value:e.search[t-1],callback:function(s){e.$set(e.search,t-1,s)},expression:"search[i-1]"}})],1)})),0)]},proxy:!0}],null,!0)}),s("div",{staticClass:"result-toolbar pt-1"},[e._l(e.toolbar_buttons,(function(t,n){return[s("v-tooltip",{key:n,attrs:{right:"",transition:"slide-x-transition","open-delay":"1200","content-class":"px-2 py-0"},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on;return[s("v-btn",e._g({staticClass:"mb-3",attrs:{icon:"","x-small":"",disabled:!e.headers.length},on:{click:t.action}},a),[s("v-icon",{attrs:{color:t.color}},[e._v(e._s(t.icon))])],1)]}}],null,!0)},[s("span",[e._v(e._s(t.tooltip))])])]}))],2),s("ColumnsFilter",{attrs:{headers:e.headers,"columns-visible":e.visible},on:{"update:columnsVisible":function(t){e.visible=t},"update:columns-visible":function(t){e.visible=t},goto:e.gotoColumn},model:{value:e.columns_filter_popup,callback:function(t){e.columns_filter_popup=t},expression:"columns_filter_popup"}})],1)},ee=[],te=(s("cb29"),s("841c"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{width:"300","overlay-opacity":"0.1",attach:".result-container","content-class":"columns-filter-popup",scrollable:""},on:{keydown:e.keyboard},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[s("v-card",[s("v-card-title",{staticClass:"panel pa-1 px-2"},[s("v-layout",[s("v-flex",{attrs:{xs1:"","align-self-center":""}},[s("v-checkbox",{staticClass:"my-1 py-0",attrs:{dense:"","hide-details":""},model:{value:e.visible_all,callback:function(t){e.visible_all=t},expression:"visible_all"}})],1),s("v-flex",{attrs:{"align-self-center":""}},[s("v-text-field",{ref:"search",staticClass:"result-search ml-2",attrs:{"append-icon":"mdi-magnify","background-color":"controls",autocomplete:"disabled",spellcheck:"false",dense:"","hide-details":"",autofocus:"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1),s("v-card-text",{staticClass:"columns-filter-body px-2 py-2",staticStyle:{"max-height":"300px"}},[e._l(e.headers.keys(),(function(t){return[s("v-hover",{key:t,scopedSlots:e._u([{key:"default",fn:function(n){var a=n.hover;return[s("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.listed[t],expression:"listed[i]"}],staticClass:"columns-filter-item",class:{selected:e.selected===t}},[s("v-flex",{attrs:{xs1:"","align-self-center":""}},[s("v-checkbox",{staticClass:"my-0 py-1 mr-2",attrs:{dense:"","hide-details":""},model:{value:e.visible[t],callback:function(s){e.$set(e.visible,t,s)},expression:"visible[i]"}})],1),s("v-flex",{staticClass:"ml-2 align-stretch"},[s("v-layout",{staticClass:"pointer noselect fill-height",on:{click:function(s){return e.toggleVisible(t)}}},[s("v-flex",{attrs:{"align-self-center":""},domProps:{innerHTML:e._s(e.listed[t])}})],1)],1),s("v-flex",{staticClass:"ml-2",attrs:{xs1:"","align-self-center":""}},[e.visible[t]?s("v-btn",{attrs:{icon:"","x-small":"",color:a?"primary":"transparent"},on:{click:function(s){return e.gotoColumn(t)}}},[s("v-icon",{staticClass:"pointer"},[e._v("mdi-target")])],1):e._e()],1)],1)]}}],null,!0)})]}))],2)],1)],1)}),se=[],ne=(s("a623"),s("ade3")),ae=s("2909"),ie=s("bbd6"),re=s.n(ie),oe={name:"ColumnsFilter",props:{value:Boolean,headers:Array,columnsVisible:Array},data:function(){return{search:"",selected:-1}},computed:{open:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},visible_all:{get:function(){return this.visible.every((function(e){return e}))},set:function(e){this.fillVisible(e)}},visible:function(){var e=this;return new Proxy(this.columnsVisible,{set:function(t,s,n){return isNaN(s)||e.updateVisible(Object.assign(Object(ae["a"])(t),Object(ne["a"])({},s,n))),!0}})},listed:function(){var e=this;return this.search?this.prepared_search_headers.map((function(t){return re.a.single(e.search,t)})).map((function(e){return e&&e.score>-100&&re.a.highlight(e,"<b class='primary--text'>","</b>")})):this.headers.map((function(e){return e.text}))},prepared_search_headers:function(){return this.headers.map((function(e){return re.a.prepare(e.text)}))}},watch:{value:function(e){var t=this;e&&(this.search="",this.selected=-1,requestAnimationFrame((function(){t.$refs.search.focus()})))},search:function(){var e=this.selected;e>=0&&!this.listed[e]&&(this.selected=-1)}},created:function(){this.keyboard=Object(p["throttle"])(this.keyboard,100)},methods:{updateVisible:function(e){this.$emit("update:columns-visible",e)},fillVisible:function(e){this.updateVisible(Array(this.headers.length).fill(e))},toggleVisible:function(e){this.visible[e]=!this.visible[e],this.selected=e},gotoColumn:function(e){this.$emit("goto",e-this.visible.filter((function(t,s){return s<e&&!t})).length)},keyboard:function(e){var t=this,s=13,n=32,a=38,i=40,r=e.keyCode,o=this.selected,c=Object(p["findIndex"])(this.listed),l=Object(p["findLastIndex"])(this.listed);switch(r){case s:while(o<=l&&(!this.listed[o]||!this.visible[o]))o++;o>=0&&o<=l&&(this.gotoColumn(o),this.open=!1);break;case n:e.preventDefault(),o>=0&&this.toggleVisible(o);break;case a:case i:if(e.preventDefault(),r===a)if(o<0||!this.listed[o])o=l;else do{o--}while(o>=0&&!this.listed[o]);else if(o<0||!this.listed[o])o=c;else do{o++}while(o<=l&&!this.listed[o]);this.selected!==o&&o>=c&&o<=l&&(this.selected=o,requestAnimationFrame((function(){t.$vuetify.goTo(".columns-filter-item.selected",{container:".columns-filter-body",offset:150,duration:200})})));break}}}},ce=oe,le=(s("7105"),s("8654")),ue=Object(S["a"])(ce,te,se,!1,null,null,null),de=ue.exports;j()(ue,{VBtn:O["a"],VCard:R["a"],VCardText:$["a"],VCardTitle:$["b"],VCheckbox:K["a"],VDialog:F["a"],VFlex:I["a"],VHover:L["a"],VIcon:P["a"],VLayout:B["a"],VTextField:le["a"]});var he={name:"TableView",components:{ColumnsFilter:de},props:{sql:String,result:Object,loading:Boolean},data:function(){return{search:[],search_debounced:[],columns_filter_popup:!1,visible:[],sort:[],last_headers:[],scroll:0}},computed:{toolbar_buttons:function(){var e=this;return[{icon:"mdi-table-row-remove",color:"neutral",tooltip:"Filter columns",action:function(){return e.showColumnFilter()}},{icon:"mdi-sync",color:"primary",tooltip:"Reload",action:function(){return e.$emit("reload",e.sql)}}]},headers:function(){var e=this,t=function(t){return function(s){return!(e.search_debounced[t]||"").length||String(s).toLowerCase().includes(e.search_debounced[t].toLowerCase())}};return this.loading?[]:Object(p["get"])(this.result,"headers",[]).map((function(s,n){return{text:s,value:n.toString(),align:e.visible[n]?"":" d-none",filter:t(n)}}))},items:function(){var e=Object.keys(Object(p["get"])(this.result,"headers",[]));return this.loading?[]:Object(p["get"])(this.result,"data",[]).map((function(t){return Object(p["zipObject"])(e,t)}))},updateSearch:function(){var e=this;return Object(p["debounce"])((function(t){e.$set(e.search_debounced,t,e.search[t])}),Math.min(70*this.items.length/1e4,1e3))}},watch:{result:function(e){var t=this;e&&(Object(p["isEqual"])(e.headers,this.last_headers)||(this.last_headers=e.headers,this.fillVisible(!0),this.search.fill(""),this.search_debounced.fill(""),this.sort=[],this.scroll=0),requestAnimationFrame((function(){var e=t.$refs.dt.$el.querySelector(".v-data-table__wrapper");e.addEventListener("scroll",t.onScroll),e.scrollTo({left:t.scroll})})))},visible:function(e){var t=this;e.forEach((function(e,s){e||(t.search[s]="",t.search_debounced[s]="")}))}},created:function(){this.onScroll=this.onScroll.bind(this)},mounted:function(){this.fillVisible(!0)},methods:{onScroll:function(e){this.loading||(this.scroll=e.target.scrollLeft)},fillVisible:function(e){this.headers&&(this.visible=Array(this.headers.length).fill(e))},showColumnFilter:function(){this.columns_filter_popup=!0},gotoColumn:function(e){var t=this.$refs.dt.$el,s=t.querySelector("th.primary--text");s&&s.classList.remove("primary--text");var n=t.querySelectorAll("th:not(.d-none)"),a=t.querySelector(".v-data-table__wrapper"),i=a.getBoundingClientRect(),r=n[e].getBoundingClientRect(),o=n[0].getBoundingClientRect().left-i.left-12,c=r.left-i.left-(i.width-r.width)/2-o;a.scrollTo({left:c,behavior:"smooth"}),n[e].classList.add("primary--text")}}},pe=he,fe=(s("9d0b"),s("8fea")),ve=s("3a2f"),me=Object(S["a"])(pe,X,ee,!1,null,null,null),be=me.exports;j()(me,{VBtn:O["a"],VDataTable:fe["a"],VIcon:P["a"],VTextField:le["a"],VTooltip:ve["a"]});var ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tree-container"},[s("v-select",{staticClass:"database-picker",attrs:{"background-color":"panel",placeholder:"No databases available","prepend-inner-icon":"mdi-database","append-icon":null,items:e.databases,disabled:!e.items,readonly:1===e.databases.length,"menu-props":{offsetY:!0,disabled:e.databases.length<1},"hide-details":"","hide-selected":"",filled:"",solo:"",dense:"",flat:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),s("v-btn",{staticClass:"database-sync",attrs:{icon:"","x-small":"",color:"neutral"},on:{click:function(t){return e.selectDB(e.selected)}}},[s("v-icon",[e._v("mdi-sync")])],1),e.items?s("v-treeview",{staticClass:"database-tree",attrs:{open:e.open,items:e.items,activatable:""},on:{"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"label",fn:function(t){var n=t.item,a=t.leaf;return[s("v-flex",{staticClass:"noselect text-truncate",on:{dblclick:function(t){!a&&e.query(n.name)}}},[e._v(" "+e._s(n.name)+" ")])]}},{key:"append",fn:function(t){var n=t.item;return[s("span",{staticClass:"noselect accent--text text-lowercase pt-1 pl-2",staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(n.type)+" ")])]}},{key:"prepend",fn:function(t){var n=t.item,a=t.leaf;return[a?[s("v-tooltip",{attrs:{bottom:"","offset-overflow":"",color:"black"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n.pk&&n.fk?s("div",e._g({staticStyle:{position:"relative"}},a),[s("v-icon",{attrs:{color:"amber"}},[e._v(" mdi-key-variant ")]),s("v-icon",{staticStyle:{position:"absolute",left:"3px"},attrs:{color:"green"}},[e._v(" mdi-key-variant ")])],1):n.pk?s("v-icon",{attrs:{color:"amber"}},[e._v(" mdi-key-variant ")]):n.fk?s("v-icon",e._g({attrs:{color:"green"}},a),[e._v(" mdi-key-variant ")]):s("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-table-column ")])]}}],null,!0)},[s("span",[e._v(e._s(n.fk))])])]:s("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggle(n.name)}}},[s("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-table-large ")])],1)]}}],null,!1,1426535915)}):s("v-progress-circular",{staticClass:"ma-auto align-self-center progress",attrs:{value:e.progress,indeterminate:e.progress<0,size:"80",width:"2",color:"primary"}},[e.progress>=0?s("span",[e._v(e._s(e.progress)+"%")]):e._e()])],1)},_e=[],ye=(s("a9e3"),{name:"TreeView",props:{schema:Object,progress:Number,databases:Array,currentdb:Number},data:function(){return{items:null,open:[]}},computed:{selected:{get:function(){return this.databases[this.currentdb]},set:function(e){this.selectDB(e)}}},watch:{schema:function(){this.loadSchema()}},mounted:function(){this.loadSchema()},methods:{selectDB:function(e){this.$emit("selectDB",this.databases.indexOf(e))},toggle:function(e){this.open.includes(e)?this.open=this.open.filter((function(t){return t!==e})):this.open.push(e)},query:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.$emit("query",e);case 1:case"end":return s.stop()}}),s)})))()},loadSchema:function(){if(this.schema.tables){for(var e=[],t=0,s=Object.entries(this.schema.tables);t<s.length;t++){for(var n=Object(d["a"])(s[t],2),a=n[0],i=n[1],o=[],c=0,l=Object.entries(i.columns);c<l.length;c++){var u=Object(d["a"])(l[c],2),h=u[0],p=u[1];o.push(Object(r["a"])({id:"".concat(a,".").concat(h),name:h},p))}e.push({id:a,name:a,children:o})}this.items=e}else this.items=null}}}),xe=ye,ke=(s("a819"),s("490a")),we=s("b974"),qe=s("eb2a"),Ce=Object(S["a"])(xe,ge,_e,!1,null,null,null),Se=Ce.exports;j()(Ce,{VBtn:O["a"],VFlex:I["a"],VIcon:P["a"],VProgressCircular:ke["a"],VSelect:we["a"],VTooltip:ve["a"],VTreeview:qe["a"]});var Ve={name:"Database",components:{Splitpanes:f["Splitpanes"],Pane:f["Pane"],SqlConsole:Z,TableView:be,TreeView:Se},data:function(){return{m_id:0,progress:0,currentdb:0,databases:[],schema:{},result:null,error:null,loading:!1,info:"",last_query:null}},mounted:function(){this.getDatabases()},beforeDestroy:function(){this.m_id++},methods:{resize:function(){this.$refs.console.$emit("resize")},queryTable:function(e){this.query("SELECT * FROM ".concat(e))},query:function(e,t){var s=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var a,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!s.loading){n.next=2;break}return n.abrupt("return");case 2:return s.error=null,s.loading=!0,s.info="",n.prev=5,n.next=8,s.$http.post("/database/"+(t?"execute":"query"),e);case 8:if(s.result=n.sent.data,s.last_query=e,setTimeout((function(){return s.resize()}),300),s.info="Runtime: "+w(s.result.duration),!/(^|\s)(create|alter|drop)\s/gi.test(e)){n.next=15;break}return n.next=15,s.loadSchema(s.m_id);case 15:a=JSON.parse(localStorage.getItem("sql_history")||"[]"),e=e.trim(),i=a.find((function(t){return t.sql===e}))||{sql:e},i.timestamp=(new Date).getTime(),a=a.filter((function(t){return t.sql!==e})),r=a.filter((function(e){return e.favorite})),a=a.filter((function(e){return!e.favorite})).slice(0,99).concat(r),a.unshift(i),a.sort((function(e,t){return e.timestamp<t.timestamp?1:-1})),localStorage.setItem("sql_history",JSON.stringify(a)),n.next=30;break;case 27:n.prev=27,n.t0=n["catch"](5),s.error=Object(p["get"])(n.t0,"response.data.msg",n.t0.message);case 30:s.loading=!1;case 31:case"end":return n.stop()}}),n,null,[[5,27]])})))()},shouldRetry:function(e){return![400,500].includes(Object(p["get"])(e,"response.status",500))},getDatabases:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=e.m_id;case 1:if(s!==e.m_id){t.next=30;break}if(!e.$http.defaults.baseURL){t.next=26;break}return t.prev=3,e.error=null,e.progress=-1,t.next=8,e.$http.get("/database/list");case 8:if(n=t.sent,e.databases=n.data.databases,e.currentdb=n.data.current,!e.databases.length){t.next=16;break}return t.next=14,e.loadSchema(s);case 14:t.next=17;break;case 16:e.schema={tables:{}};case 17:return t.abrupt("return");case 20:if(t.prev=20,t.t0=t["catch"](3),e.shouldRetry(t.t0)){t.next=26;break}return e.schema={tables:{}},e.error=Object(p["get"])(t.t0,"response.data.msg"),t.abrupt("return");case 26:return t.next=28,x(3e3);case 28:t.next=1;break;case 30:case"end":return t.stop()}}),t,null,[[3,20]])})))()},selectDB:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var n,a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!(e<0)){s.next=2;break}return s.abrupt("return",t.getDatabases().catch((function(){return!1})));case 2:n=t.m_id,a=3,i=0;case 5:if(!(i<a&&n===t.m_id)){s.next=35;break}return s.prev=6,t.error=null,t.progress=-1,t.schema={},s.next=12,t.$http.put("/database/current/"+e);case 12:return t.currentdb=e,s.next=15,t.loadSchema(n);case 15:return s.abrupt("return");case 18:if(s.prev=18,s.t0=s["catch"](6),t.shouldRetry(s.t0)){s.next=26;break}return t.schema={tables:{}},t.error=Object(p["get"])(s.t0,"response.data.msg"),s.abrupt("return");case 26:if(!(i<a-1)){s.next=31;break}return s.next=29,x(500);case 29:s.next=32;break;case 31:t.getDatabases().catch((function(){return!1}));case 32:i++,s.next=5;break;case 35:case"end":return s.stop()}}),s,null,[[6,18]])})))()},getTables:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="\n                            SELECT name\n                            FROM sqlite_master\n                            WHERE type = 'table'\n                            AND name NOT IN ('android_metadata', 'sqlite_sequence')\n                            ORDER BY name\n                        ",t.next=3,e.$http.post("/database/query",s);case 3:return n=t.sent,t.abrupt("return",n.data.data.map((function(e){return e[0]})));case 5:case"end":return t.stop()}}),t)})))()},getColumns:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var n,a,i,r,c,l,u,d;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n="pragma table_info(".concat(e,")"),s.next=3,t.$http.post("/database/query",n);case 3:a=s.sent,i=a.data.data,r=function(e){return a.data.headers.indexOf(e)},c={},l=Object(o["a"])(i);try{for(l.s();!(u=l.n()).done;)d=u.value,c[d[r("name")]]={type:d[r("type")],notnull:!!d[r("notnull")],dflt_value:d[r("dflt_value")],pk:!!d[r("pk")]}}catch(h){l.e(h)}finally{l.f()}return s.abrupt("return",c);case 10:case"end":return s.stop()}}),s)})))()},getForeignKeys:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var n,a,i,r,c,l,u,d;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n="pragma foreign_key_list(".concat(e,")"),s.next=3,t.$http.post("/database/query",n);case 3:a=s.sent,i=a.data.data,r=function(e){return a.data.headers.indexOf(e)},c=[],l=Object(o["a"])(i);try{for(l.s();!(u=l.n()).done;)d=u.value,c.push({from:d[r("from")],table:d[r("table")],to:d[r("to")]})}catch(h){l.e(h)}finally{l.f()}return s.abrupt("return",c);case 10:case"end":return s.stop()}}),s)})))()},loadTable:function(e,t,s){var n=this;return Object(h["a"])(regeneratorRuntime.mark((function a(){var i,r,c,l,u,d,h;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=3,r=0;case 2:if(e!==n.m_id){a.next=23;break}return a.prev=3,a.next=6,n.getColumns(s);case 6:return c=a.sent,a.next=9,n.getForeignKeys(s);case 9:l=a.sent,u=Object(o["a"])(l);try{for(u.s();!(d=u.n()).done;)h=d.value,c[h.from].fk="".concat(h.table," (").concat(h.to,")")}catch(p){u.e(p)}finally{u.f()}return t.tables[s]={columns:c},a.abrupt("return");case 16:if(a.prev=16,a.t0=a["catch"](3),r!==i-1){a.next=20;break}throw a.t0;case 20:r++,a.next=2;break;case 23:case"end":return a.stop()}}),a,null,[[3,16]])})))()},loadSchema:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var n,a,i,r,o,c,l,u,h,p;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:n={tables:{}},t.progress=0,a=3,i=0;case 4:if(e!==t.m_id){s.next=34;break}return s.prev=5,s.next=8,t.getTables();case 8:r=s.sent,o=0,c=Object.entries(r);case 10:if(!(o<c.length)){s.next=18;break}return l=Object(d["a"])(c[o],2),u=l[0],h=l[1],s.next=14,t.loadTable(e,n,h);case 14:u%3===0&&(p=100*(parseInt(u)+1)/r.length,t.progress=Math.round(p));case 15:o++,s.next=10;break;case 18:return t.progress=100,setTimeout((function(){t.schema=n}),150),s.abrupt("return");case 23:if(s.prev=23,s.t0=s["catch"](5),!(i<a-1&&t.shouldRetry(s.t0))){s.next=30;break}return s.next=28,x(500);case 28:s.next=31;break;case 30:throw s.t0;case 31:i++,s.next=4;break;case 34:case"end":return s.stop()}}),s,null,[[5,23]])})))()}}},je=Ve,Oe=(s("2696"),s("a797")),Te=Object(S["a"])(je,l,u,!1,null,"145a8e07",null),Re=Te.exports;j()(Te,{VOverlay:Oe["a"]});var $e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("splitpanes",{staticClass:"network-panel default-theme fill-height"},[s("pane",{staticStyle:{"min-width":"250px"},attrs:{size:100-e.detail_size}},[s("div",{ref:"scroll",staticClass:"network-container absolute-expand overflow-y-auto",class:{"pt-10":e.is_searching}},[e.session_list.length?s("v-list",{attrs:{dense:""}},[s("v-list-item-group",{attrs:{color:"primary"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.session_list,(function(t,n){return s("div",{key:n},[e.is_searching?e._e():s("div",{staticClass:"text-center text--text font-weight-bold pt-4"},[e._v(" "+e._s(e.formatTimestamp(t.timestamp,!0))+" ")]),e._l(t.requests.map((function(t){return e.requests[t]})),(function(t){return[s("v-list-item",{directives:[{name:"show",rawName:"v-show",value:e.requests_visibility[t.uid],expression:"requests_visibility[request.uid]"}],key:t.uid,staticClass:"request-item",attrs:{"two-line":""}},[s("v-list-item-content",{staticClass:"py-0"},[s("v-list-item-title",{staticClass:"pt-2"},[s("span",{staticClass:"method",class:t.headers.method.toLowerCase()},[e._v(" "+e._s(t.headers.method)+" ")]),e._v(" "+e._s(t.headers.url.pathname)+" ")]),s("v-list-item-subtitle",{staticClass:"origin pb-2"},[e._v(" "+e._s(t.headers.url.origin)+" ")])],1),s("div",{staticClass:"mr-3"},[s("table",[s("tr",{staticClass:"request-info"},[s("td",{staticClass:"request-status",class:e.statusColor(t.status)},[t.status?s("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(t.status)+" ")]):s("v-icon",{staticClass:"request-loading"},[e._v("mdi-timelapse")])],1),s("td",{staticClass:"request-timestamp font-weight-bold text-right"},[e._v(" "+e._s(e.formatTimestamp(t.timestamp))+" ")])]),t.response?s("tr",{staticClass:"v-list-item__subtitle request-info"},[s("td",[e._v(e._s(e.formatDuration(t.response.timestamp-t.timestamp)))]),s("td",{staticClass:"text-right"},[e._v(e._s(e.filesize(t.response.body.size)))])]):e._e()])])],1)]}))],2)})),0)],1):e._e()],1),s("v-speed-dial",{staticClass:"close_menu",attrs:{"open-on-hover":"",bottom:"",right:"",fixed:""},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-fab-transition",{attrs:{"hide-on-leave":""}},[s("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:e.clear_visible,expression:"clear_visible"},{name:"blur",rawName:"v-blur"}],attrs:{small:"",fab:""},on:{click:function(t){return t.stopPropagation(),e.clearEndedRequests(t)}}},n),[s("v-icon",[e._v("mdi-trash-can-outline")])],1)],1)]}}])},[s("span",[e._v("Clear finished")])])]},proxy:!0}])},[s("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-btn",e._g({directives:[{name:"blur",rawName:"v-blur"}],attrs:{small:"",fab:""},on:{click:function(t){return t.stopPropagation(),e.clearPreviousRequests(t)}}},n),[s("v-icon",[e._v("mdi-upload-off")])],1)]}}])},[s("span",[e._v("Clear previous requests")])]),s("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-btn",e._g({directives:[{name:"blur",rawName:"v-blur"}],attrs:{small:"",fab:""},on:{click:function(t){return t.stopPropagation(),e.clearAllRequests(t)}}},n),[s("v-icon",[e._v("mdi-skull-outline")])],1)]}}])},[s("span",[e._v("Clear all requests")])])],1),s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.search_enabled,expression:"search_enabled"}],ref:"search",staticClass:"network_search",attrs:{"prepend-inner-icon":"mdi-magnify",placeholder:"Search...",autocomplete:"disabled",spellcheck:"false","hide-details":"",clearable:""},on:{"click:clear":e.clearSearch},model:{value:e.search_filter,callback:function(t){e.search_filter=t},expression:"search_filter"}})],1),s("pane",{attrs:{size:e.detail_size}},[s("splitpanes",{staticClass:"default-theme fill-height",attrs:{horizontal:""}},[s("pane",[s("RequestViewer",{attrs:{"sort-params":e.settings.sort_params},model:{value:e.selected_request,callback:function(t){e.selected_request=t},expression:"selected_request"}})],1),s("pane",[s("RequestViewer",{model:{value:e.selected_response,callback:function(t){e.selected_response=t},expression:"selected_response"}})],1)],1)],1)],1)},Fe=[],De=(s("c740"),s("5db7"),s("73d9"),s("cee5")),Ie=s.n(De);function Le(){return new Promise((function(e,t){var s=indexedDB.open("network",2);s.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("requests")&&t.deleteObjectStore("requests"),t.createObjectStore("requests",{keyPath:"uid"})},s.onsuccess=function(t){e(t.target.result)},s.onerror=function(e){t(e)}}))}var Pe={putRequest:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Le();case 2:s=t.sent,s.transaction(["requests"],"readwrite").objectStore("requests").put(e);case 4:case"end":return t.stop()}}),t)})))()},getRequests:function(){return Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return t=e.sent,e.abrupt("return",new Promise((function(e,s){var n=t.transaction(["requests"]).objectStore("requests").getAll();n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){s(e)}})));case 4:case"end":return e.stop()}}),e)})))()},clearRequests:function(){return Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:t=e.sent,t.transaction(["requests"],"readwrite").objectStore("requests").clear();case 4:case"end":return e.stop()}}),e)})))()}},Be=s("bceb"),Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"network-detail-container"},[e.request?s("v-expansion-panels",{attrs:{value:e.open,accordion:""}},[s("v-expansion-panel",[s("v-expansion-panel-header",[s("v-layout",[s("v-flex",{attrs:{"align-self-center":""}},[e._v(" Headers ")]),s("v-flex",[s("v-label",[s("small",{staticClass:"pointer"},[e._v(e._s(e.formatTimestamp(e.request.timestamp,!0)))])])],1)],1)],1),s("v-expansion-panel-content",[s("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.details.headers,expression:"details.headers"}],class:e.codestyle},[s("code",{staticClass:"http"})]),e.params?[s("v-divider",{staticClass:"mt-2 mb-1"}),s("v-label",[s("small",[e._v("Parameters:")])]),s("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.params,expression:"params"}],staticClass:"ml-2",class:e.codestyle},[s("code",{staticClass:"yaml"})])]:e._e()],2)],1),e.hasBody?s("v-expansion-panel",[s("v-expansion-panel-header",[s("v-layout",[s("v-flex",{attrs:{xs11:"","align-self-center":""}},[e._v(" Body ")]),s("v-flex",{staticClass:"ml-4"},[e.details.large?s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-btn",e._g({attrs:{icon:"","x-small":""},on:{click:function(t){return t.stopPropagation(),e.download(t)}}},n),[s("v-icon",[e._v("mdi-download")])],1)]}}],null,!1,4175869490)},[s("span",[e._v("Download")])]):s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-btn",e._g({attrs:{icon:"","x-small":""},on:{click:function(t){return t.stopPropagation(),e.copy(t)}}},n),[s("v-icon",[e._v("mdi-content-copy")])],1)]}}],null,!1,2104686646)},[s("span",[e._v("Copy")])])],1)],1)],1),s("v-expansion-panel-content",[e.json||e.html?s("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.details.body,expression:"details.body"}],class:e.codestyle},[s("code",{class:{json:e.json,html:e.html}})]):s("v-label",[e._v(" "+e._s(e.details.body)+" ")])],1)],1):e._e()],1):e._e(),s("v-snackbar",{attrs:{top:"",color:"success",timeout:2e3},model:{value:e.snackbar.visible,callback:function(t){e.$set(e.snackbar,"visible",t)},expression:"snackbar.visible"}},[s("v-flex",{staticClass:"text-center"},[s("h3",[e._v(e._s(e.snackbar.text))])])],1)],1)},Ne=[],Ae=(s("5319"),s("2ca0"),s("596b")),ze=s.n(Ae),He=s("4c4f"),Me={name:"RequestViewer",props:{value:Object,sortParams:Boolean},data:function(){return{details:{headers:"",body:"",large:!1},snackbar:{visible:!1,text:""}}},computed:{open:function(){return this.hasBody&&!this.urlencoded?1:0},codestyle:function(){return this.dark_mode?"dark":"light"},request:function(){return this.value},headers:function(){return this.request&&this.request.headers||{}},raw_headers:function(){return this.request&&this.request.raw_headers||""},params:function(){var e=this.get?this.headers.url.search:this.urlencoded&&this.details.body;return e?(e=e.split(/[?&]/).map((function(e){return e.replace("=",": ")})).map((function(e){return decodeURIComponent(e)})),this.sortParams&&(e=e.sort((function(e,t){return e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})}))),e.join("\n").trim()):null},contentType:function(){return this.headers["content-type"]||""},get:function(){return"GET"===this.headers.method},json:function(){return this.contentType.includes("application/json")||this.hasBody&&["{","["].includes(this.details.body[0])},html:function(){return this.contentType.includes("text/html")},urlencoded:function(){var e=this.details.body;return this.contentType.includes("application/x-www-form-urlencoded")||!this.json&&!e.includes("\n")&&(e.startsWith("?")||e.includes("=")||e.includes("&"))},hasBody:function(){return!(!this.request||!this.request.body.size)}},watch:{request:function(){this.updateDetails()}},mounted:function(){this.updateDetails()},methods:{updateDetails:function(){var e=this;this.details={headers:"",body:"",large:!1};var t=this.request;if(t){var s=t.raw_headers;this.$set(this.details,"headers",s),t.body&&(t.body.size>1e5?(this.$set(this.details,"large",!0),this.$set(this.details,"body","[ Size: "+Ie()(t.body.size)+" ]")):Je(s,t.body).then((function(s){if(e.request===t){if(e.json||["{","["].includes(s[0])){var n=JSON.parse(s);n&&(s=JSON.stringify(n,null,2))}e.$set(e.details,"body",s)}})))}},download:function(){Object(He["a"])(this.request.body,"".concat(this.request.timestamp,".txt"))},copy:function(){var e=this;Je(this.request.raw_headers,this.request.body).then((function(t){ze()(t),e.snackbar={visible:!0,text:"Content copied successfully!"}}))},formatTimestamp:k}};function Je(e,t){return new Promise((function(s){var n=new FileReader;n.onloadend=function(e){s(e.target.result)};var a="utf-8",i=/charset=([^;\n ]+)/.exec(e);i&&(a=i[1]),n.readAsText(t,a)}))}var We=Me,Ue=(s("1c1c"),s("b4dc"),s("cd55")),Ge=s("49e2"),Ke=s("c865"),Qe=s("0393"),Ye=s("24c9"),Ze=s("2db4"),Xe=Object(S["a"])(We,Ee,Ne,!1,null,"ff1c532e",null),et=Xe.exports;j()(Xe,{VBtn:O["a"],VDivider:D["a"],VExpansionPanel:Ue["a"],VExpansionPanelContent:Ge["a"],VExpansionPanelHeader:Ke["a"],VExpansionPanels:Qe["a"],VFlex:I["a"],VIcon:P["a"],VLabel:Ye["a"],VLayout:B["a"],VSnackbar:Ze["a"],VTooltip:ve["a"]});var tt={name:"Network",components:{Splitpanes:f["Splitpanes"],Pane:f["Pane"],RequestViewer:et},props:{active:Boolean,settings:Object,ip:String,port:String},data:function(){return{session_list:[],requests:{},selected:void 0,clear_visible:!1,ws_request:null,ws_response:null,ws_request_reconnect_timeout:null,ws_response_reconnect_timeout:null,search_filter:"",search_enabled:!1}},computed:{host:function(){return this.ip&&this.port&&"".concat(this.ip,":").concat(this.port)},reconnect:function(){var e=this;return Object(p["debounce"])((function(){e.disconnect(),e.connect()}),1500)},detail_size:function(){return void 0!==this.selected?40:0},session:function(){var e=this.session_list.length;return e?this.session_list[e-1]:{}},selected_request:function(){if(void 0!==this.selected){var e=Object(p["sortBy"])(Object.values(this.requests),"timestamp");return e[this.selected]}},selected_response:function(){var e=this.selected_request;if(e)return e.response},total_requests:function(){return Object.keys(this.requests).length},is_searching:function(){var e;return(null===(e=this.search_filter)||void 0===e?void 0:e.trim().length)>0},requests_visibility:function(){var e,t,s=this,n=null===(e=this.search_filter)||void 0===e?void 0:e.trim().toLowerCase(),a=function(e){var t=e.pathname,s=e.origin;return[t,s].map((function(e){return e.toLowerCase()}))},i=function(e){return!n||a(e).findIndex((function(e){return e.includes(n)}))>=0},r=this.session_list.flatMap((function(e){var t=e.requests;return t.map((function(e){return s.requests[e]}))})),c={},l=Object(o["a"])(r);try{for(l.s();!(t=l.n()).done;){var u=t.value;c[u.uid]=i(u.headers.url)}}catch(d){l.e(d)}finally{l.f()}return c}},watch:{host:function(e){e&&this.reconnect()},active:{handler:function(e){var t=this;e?(setTimeout((function(){t.clear_visible=!0,t.scrollBottom()}),500),this.connect()):(this.clear_visible=!1,this.settings.sleep?this.disconnect():this.connect())},immediate:!0},"settings.sleep":function(e){this.active||(e?this.disconnect():this.connect())},total_requests:function(e){this.$emit("requests",e),this.stickyBottom()}},mounted:function(){var e=this;document.addEventListener("keydown",this.nextItem),document.addEventListener("keydown",this.toggleSearch),this.getHistory().then((function(){e.autoClearRequests(),e.$nextTick((function(){e.scrollBottom()}))}))},beforeDestroy:function(){document.removeEventListener("keydown",this.nextItem),document.removeEventListener("keydown",this.toggleSearch),this.disconnect()},methods:{connect:function(){this.ws_request||this.openRequest(),this.ws_response||this.openResponse()},disconnect:function(){this.closeSocket(this.ws_request),this.ws_request=null,this.closeSocket(this.ws_response),this.ws_response=null},closeSocket:function(e){e&&(e.onmessage=null,e.onclose=null,e.close())},nextVisible:function(e,t){for(var s=Object.values(this.requests_visibility),n=e+t;n>=0&&n<s.length;n+=t)if(s[n])return n},nextItem:function(e){if(this.active){var t,s;if(38===e.keyCode)t=this.nextVisible(null!==(s=this.selected)&&void 0!==s?s:Object.keys(this.requests).length,-1);else if(40===e.keyCode){var n;t=this.nextVisible(null!==(n=this.selected)&&void 0!==n?n:-1,1)}t>=0&&(e.preventDefault(),this.selected=t)}},newSession:function(){return{timestamp:(new Date).getTime(),requests:[]}},openRequest:function(){var e=this;if(this.closeSocket(this.ws_request),this.ws_request=null,(this.active||!this.settings.sleep)&&this.host){var t=!0,s=this.ws_request=new WebSocket("ws://".concat(this.host,"/network/request"));s.binaryType="arraybuffer",s.onopen=function(){console.info("Request channel opened!")},s.onmessage=function(s){var n=Object(Be["a"])(s);if(n){!t&&e.session_list.length||(e.session_list.push(e.newSession()),t=!1),n.session=e.session.timestamp,n.timestamp=(new Date).getTime();var a=e.session.requests;a.includes(n.uid)||a.push(n.uid),e.$set(e.requests,n.uid,n),Pe.putRequest(n),e.autoClearRequests()}},s.onclose=function(){e.ws_request===s&&(console.info("Request channel closed!"),e.ws_request=null,e.ws_request_reconnect_timeout&&clearTimeout(e.ws_request_reconnect_timeout),e.ws_request_reconnect_timeout=setTimeout((function(){return e.openRequest()}),3e3))}}},openResponse:function(){var e=this;if(this.closeSocket(this.ws_response),this.ws_response=null,(this.active||!this.settings.sleep)&&this.host){var t=this.ws_response=new WebSocket("ws://".concat(this.host,"/network/response"));t.binaryType="arraybuffer",t.onopen=function(){console.info("Response channel opened!")},t.onmessage=function(t){var s=Object(Be["a"])(t);if(s){var n=e.requests[s.uid];n&&(s.timestamp=(new Date).getTime(),n.status=s.headers.status,n.response=s,e.$set(e.requests,s.uid,Object(r["a"])({},n)),Pe.putRequest(n))}},t.onclose=function(){e.ws_response===t&&(console.info("Response channel closed!"),e.ws_response=null,e.ws_response_reconnect_timeout&&clearTimeout(e.ws_response_reconnect_timeout),e.ws_response_reconnect_timeout=setTimeout((function(){return e.openResponse()}),3e3))}}},getHistory:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var s,n,a,i,r,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=p["sortBy"],t.next=3,Pe.getRequests();case 3:t.t1=t.sent,s=(0,t.t0)(t.t1,"timestamp"),n={},a={},i=Object(o["a"])(s);try{for(i.s();!(r=i.n()).done;)c=r.value,l=n[c.session]||e.newSession(),l.timestamp=c.session,l.requests.push(c.uid),n[c.session]=l,a[c.uid]=c}catch(u){i.e(u)}finally{i.f()}e.session_list=Object(p["sortBy"])(Object.values(n),"timestamp"),e.requests=a;case 11:case"end":return t.stop()}}),t)})))()},autoClearRequests:function(){var e=this.settings.limit;this.total_requests>e&&(this.clearPreviousRequests(),this.total_requests>e&&this.clearEndedRequests())},clearAllRequests:function(){this.session_list=[],this.requests={},this.selected=void 0,Pe.clearRequests()},clearPreviousRequests:function(){if(this.session_list.length){var e=this.session,t=Object(p["pickBy"])(this.requests,(function(t){return t.session===e.timestamp})),s=Object.values(t);this.session_list=[e],this.requests=t,this.selected=void 0,Pe.clearRequests(),s.forEach(Pe.putRequest)}},clearEndedRequests:function(){if(this.session_list.length){var e=this.session,t=Object(p["pickBy"])(this.requests,(function(t){return!t.status&&t.session===e.timestamp})),s=Object.values(t);e.requests=s.map((function(e){return e.uid})),this.session_list=s.length?[e]:[],this.requests=t,this.selected=void 0,Pe.clearRequests(),s.forEach(Pe.putRequest)}},statusColor:function(e){return e=parseInt(e),200===e?"success--text":e<400?"warning--text":"error--text"},formatDuration:function(e){return e>=1e3?(e/1e3).toFixed(2)+" s":e+" ms"},stickyBottom:function(){var e=this.$refs.scroll;e.scrollTop+e.clientHeight>=.98*e.scrollHeight-10&&this.$nextTick((function(){e.scroll({top:e.scrollHeight,behavior:"smooth"})}))},scrollBottom:function(){var e=this.$refs.scroll;e.scrollTop=e.scrollHeight},toggleSearch:function(e){var t=this;this.active&&((e.ctrlKey||e.metaKey)&&70===e.keyCode?(e.preventDefault(),this.search_enabled=!0,this.$nextTick((function(){t.$refs.search.focus(),t.$refs.search.$el.querySelector("input").select()}))):27===e.keyCode&&(this.search_enabled=!1,this.clearSearch(),this.$nextTick((function(){t.scrollBottom()}))))},clearSearch:function(){this.search_filter=""},filesize:Ie.a,formatTimestamp:k}},st=tt,nt=(s("d06e"),s("0dc9"),s("0789")),at=s("c73b"),it=Object(S["a"])(st,$e,Fe,!1,null,"f4993d56",null),rt=it.exports;j()(it,{VBtn:O["a"],VFabTransition:nt["c"],VIcon:P["a"],VList:E["a"],VListItem:N["a"],VListItemContent:A["a"],VListItemGroup:z["a"],VListItemSubtitle:A["b"],VListItemTitle:A["c"],VSpeedDial:at["a"],VTextField:le["a"],VTooltip:ve["a"]});var ot=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"scrollable fill-height"},[s("div",{staticClass:"plugin-container absolute-expand overflow-y-auto pa-2"},[e.json?s("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.body,expression:"body"}],class:e.codestyle},[s("code",{staticClass:"json"})]):e.plugin.live?s("div",{staticClass:"absolute-expand d-flex"},[s("iframe",{ref:"iframe",staticClass:"flex",attrs:{src:e.frame_src},on:{load:e.frame_loaded}})]):s("div",{domProps:{innerHTML:e._s(e.body)}})]),s("v-tooltip",{attrs:{left:"","open-delay":"1200"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-fab-transition",{attrs:{"hide-on-leave":""}},[s("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:e.reload_visible,expression:"reload_visible"},{name:"blur",rawName:"v-blur"}],attrs:{small:"",fab:"",fixed:"",right:"",bottom:""},on:{click:function(t){return t.stopPropagation(),e.reload(t)}}},n),[s("v-icon",{class:{spin:e.loading}},[e._v("mdi-sync")])],1)],1)]}}])},[s("span",[e._v("Reload "+e._s(e.plugin.name))])])],1)},ct=[],lt={name:"Plugin",props:{active:Boolean,plugin:Object},data:function(){return{load_uid:null,loaded:!1,loading:!1,reload_visible:!1,body:void 0,json:!1}},computed:{codestyle:function(){return this.dark_mode?"dark":"light"},frame_src:function(){return this.load_uid&&"".concat(this.$http.defaults.baseURL,"/plugins/").concat(this.plugin.key,"?").concat(this.load_uid)}},watch:{active:{handler:function(e){var t=this;e?(setTimeout((function(){t.reload_visible=!0}),500),this.loaded||this.reload()):this.reload_visible=!1},immediate:!0},codestyle:"syncFrame"},methods:{sendMessage:function(e){var t=this.$refs.iframe;t&&t.contentWindow.postMessage(e,"*")},syncFrame:function(){this.sendMessage({plugin:this.plugin.key,host:this.$http.defaults.baseURL,theme:this.codestyle,colors:this.$vuetify.theme.currentTheme})},frame_loaded:function(){this.frame_src&&(this.loaded=!0,this.loading=!1,this.syncFrame())},reload:function(){var e=this;this.active&&!this.loading&&(this.loading=!0,this.plugin.live?this.load_uid=Date.now():this.$http.get("/plugins/"+this.plugin.key).then((function(t){var s=t.data,n=t.headers;e.loaded=!0,e.json="application/json"===n["content-type"],e.body=e.json?JSON.stringify(s,null,2):s})).finally((function(){e.loading=!1})))}}},ut=lt,dt=(s("888b"),s("2a84"),Object(S["a"])(ut,ot,ct,!1,null,"739a4238",null)),ht=dt.exports;j()(dt,{VBtn:O["a"],VFabTransition:nt["c"],VIcon:P["a"],VTooltip:ve["a"]});var pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"max-width":"600"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[s("v-card",[s("v-card-title",{staticClass:"pa-1"},[s("v-layout",{staticClass:"text-center"},[s("v-flex",[e._v("Settings")])],1),s("v-btn",{attrs:{color:"neutral",small:"",icon:"",absolute:"",right:""},on:{click:function(t){e.open=!1}}},[s("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1)],1),s("v-divider",{attrs:{light:""}}),s("v-card-text",{staticClass:"pa-0 settings-content relative"},[s("v-layout",{staticClass:"absolute-expand"},[s("v-flex",{attrs:{xs3:""}},[s("v-list",{staticClass:"pt-0 fill-height",attrs:{color:"controls"}},[s("v-list-item-group",{attrs:{mandatory:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.pages,(function(t){return s("v-list-item",{key:t},[s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(t))])],1)],1)})),1)],1)],1),s("v-flex",{staticClass:"panel px-5"},[0===e.selected?s("v-container",[s("v-radio-group",{attrs:{row:""},model:{value:e.settings.dark_mode,callback:function(t){e.$set(e.settings,"dark_mode",t)},expression:"settings.dark_mode"}},[s("v-radio",{attrs:{label:"Light",value:"light","on-icon":"mdi-white-balance-sunny"}}),s("v-spacer"),s("v-radio",{attrs:{label:"Dark",value:"dark","on-icon":"mdi-weather-night"}}),s("v-spacer"),e.supportsThemeDetection?s("v-radio",{attrs:{label:"Automatic",value:"auto","on-icon":"mdi-theme-light-dark"}}):e._e()],1)],1):e._e(),1===e.selected?s("v-container",[s("v-switch",{attrs:{label:"Disconnect when Network is not selected","hide-details":""},model:{value:e.settings.network.sleep,callback:function(t){e.$set(e.settings.network,"sleep",t)},expression:"settings.network.sleep"}}),s("v-flex",{attrs:{"offset-xs1":""}},[s("small",[e._v("(This helps to prevent unnecessary memory and cpu usage)")])]),s("v-switch",{attrs:{label:"Sort request parameters","hide-details":""},model:{value:e.settings.network.sort_params,callback:function(t){e.$set(e.settings.network,"sort_params",t)},expression:"settings.network.sort_params"}}),s("v-row",{staticClass:"mt-2"},[s("v-col",{attrs:{cols:"3"}},[s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"#####",expression:"'#####'"}],attrs:{label:"Port","hide-details":""},model:{value:e.settings.port,callback:function(t){e.$set(e.settings,"port",t)},expression:"settings.port"}})],1),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"#####",expression:"'#####'"}],attrs:{label:"Clear requests after","hide-details":""},model:{value:e.settings.network.limit,callback:function(t){e.$set(e.settings.network,"limit",t)},expression:"settings.network.limit"}})],1)],1),s("v-row",[s("v-col",[s("v-text-field",{attrs:{label:"Adapter blacklist","hide-details":""},model:{value:e.settings.adapter_blacklist,callback:function(t){e.$set(e.settings,"adapter_blacklist",t)},expression:"settings.adapter_blacklist"}})],1)],1)],1):e._e()],1)],1)],1)],1)],1)},ft=[],vt=navigator.userAgent,mt=-1!==vt.indexOf("Win")||-1!==vt.indexOf("Mac"),bt=mt&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),gt={name:"Settings",props:{value:Boolean,settings:Object},data:function(){return{selected:0,pages:["Theme","Network"]}},computed:{open:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},supportsThemeDetection:function(){return!!bt}},watch:{"settings.dark_mode":{handler:function(e){this.dark_mode="auto"===e?bt.matches:"dark"===e},immediate:!0}},mounted:function(){null===bt||void 0===bt||bt.addEventListener("change",this.darkModeObserver)},beforeDestroy:function(){null===bt||void 0===bt||bt.removeEventListener("change",this.darkModeObserver)},methods:{darkModeObserver:function(e){"auto"===this.settings.dark_mode&&(this.dark_mode=e.matches)}}},_t=gt,yt=(s("9d98"),s("62ad")),xt=s("a523"),kt=s("67b6"),wt=s("43a6"),qt=s("0fd9"),Ct=s("b73d"),St=Object(S["a"])(_t,pt,ft,!1,null,"7d701765",null),Vt=St.exports;j()(St,{VBtn:O["a"],VCard:R["a"],VCardText:$["a"],VCardTitle:$["b"],VCol:yt["a"],VContainer:xt["a"],VDialog:F["a"],VDivider:D["a"],VFlex:I["a"],VIcon:P["a"],VLayout:B["a"],VList:E["a"],VListItem:N["a"],VListItemContent:A["a"],VListItemGroup:z["a"],VListItemTitle:A["c"],VRadio:kt["a"],VRadioGroup:wt["a"],VRow:qt["a"],VSpacer:Q["a"],VSwitch:Ct["a"],VTextField:le["a"]});var jt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-select",{ref:"devices",staticClass:"device-picker",attrs:{items:e.devices,height:"28","append-icon":"","item-value":"ip","item-text":"name",disabled:!e.devices.length,placeholder:e.devices.length?"Select your device":"No devices detected","menu-props":{top:!0,offsetY:!0,maxHeight:"100%",nudgeTop:8},"return-object":"",outlined:"","hide-details":"","hide-selected":""},scopedSlots:e._u([e.selected?null:{key:"prepend-inner",fn:function(){return[s("v-flex",{attrs:{"align-self-center":"",shrink:"","text-center":""}},[e.devices.length?s("div",{staticClass:"badge controls--text text"},[e._v(e._s(e.devices.length))]):s("v-icon",{staticClass:"neutral--text",attrs:{dense:""}},[e._v("mdi-help-circle-outline")])],1)]},proxy:!0},{key:"selection",fn:function(t){var n=t.item;return[s("v-layout",[s("v-flex",{attrs:{shrink:"","align-self-center":"","mr-2":""}},[s("v-icon",{attrs:{dense:""}},[e._v(e._s(e.deviceIcon(n.type)))])],1),s("v-flex",{staticClass:"text-no-wrap overflow-hidden",attrs:{"align-self-center":""}},[e._v(" "+e._s(n.name)+" - "+e._s(n.ip)+" ")])],1)]}},{key:"item",fn:function(t){var n=t.item;return[s("v-layout",[s("v-flex",{attrs:{shrink:"","align-self-center":"","mr-4":""}},[s("v-icon",[e._v(e._s(e.deviceIcon(n.type)))])],1),s("v-flex",[s("v-col",[s("v-row",[e._v(e._s(n.name))]),s("v-row",[n.appId?s("v-label",{attrs:{disabled:""}},[s("small",[e._v(e._s(n.appId)+" ("+e._s(n.version)+")")])]):e._e()],1),s("v-row",[s("small",[e._v(e._s(n.adapter)+": "+e._s(n.ip))])])],1)],1)],1)]}}],null,!0),model:{value:e.host,callback:function(t){e.host=t},expression:"host"}})},Ot=[],Tt={name:"DevicePicker",props:{value:Object,devices:Array},computed:{host:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},selected:function(){var e=this;return!!this.devices.find((function(t){return t.ip===e.host.ip}))}},watch:{devices:function(){this.$refs.devices.$refs.menu.onResize()}},methods:{deviceIcon:function(e){return{ios:"mdi-cellphone-iphone",android:"mdi-cellphone-android"}[e]||"mdi-laptop"}}},Rt=Tt,$t=(s("111f"),Object(S["a"])(Rt,jt,Ot,!1,null,null,null)),Ft=$t.exports;j()($t,{VCol:yt["a"],VFlex:I["a"],VIcon:P["a"],VLabel:Ye["a"],VLayout:B["a"],VRow:qt["a"],VSelect:we["a"]});var Dt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-text-field",{staticClass:"ip-field",attrs:{prefix:"IP Address: ",placeholder:"___.___.___.___",height:"28",error:e.ip.includes(":"),outlined:"","hide-details":""},model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}})},It=[],Lt={name:"IPTextField",props:{value:Object},computed:{ip:{get:function(){return this.value.ip||""},set:function(e){this.$emit("input",{ip:e})}}}},Pt=Lt,Bt=(s("404b"),Object(S["a"])(Pt,Dt,It,!1,null,null,null)),Et=Bt.exports;j()(Bt,{VTextField:le["a"]});var Nt={dark_mode:bt?"auto":"dark",network:{sleep:!0,sort_params:!0,limit:"250"},port:"30000",adapter_blacklist:"pdp_ip0 vboxnet4 lo0"},At=s("bc3a"),zt=s.n(At),Ht=s("a7fe"),Mt=s.n(Ht),Jt=zt.a.create({timeout:5e3});n["a"].use(Mt.a,Jt);var Wt=zt.a.CancelToken.source();function Ut(e){return zt.a.isCancel(e)?new Promise((function(){return!1})):Promise.reject(e)}Jt.interceptors.request.use((function(e){if(!Jt.defaults.baseURL)throw new zt.a.Cancel;return e.cancelToken=Wt.token,e}),Ut),Jt.interceptors.response.use((function(e){return e}),Ut);var Gt=function(){Wt.cancel(),Wt=zt.a.CancelToken.source()},Kt=Jt,Qt=(s("b0c0"),function(e){return Kt.get("https://api.github.com/repos/pakerwreah/InspectorWeb/releases/latest").then((function(t){var s=t.data,n=s.html_url,a=s.name;if(a){var i=a.replace(/[^\d.]/,"");if(e!==i){var r=e.split("."),o=i.split(".");if(r.length===o.length){for(var c=0;c<o.length;c++)if(parseInt(o[c])<parseInt(r[c]))return;return{name:i,url:n}}}}}))}),Yt=[{key:"database",name:"Database"},{key:"network",name:"Network"}],Zt=8e3,Xt={name:"App",components:{Database:Re,Network:rt,Plugin:ht,Settings:Vt,DevicePicker:Ft,IPTextField:Et},data:function(){return{mounted:!1,plugins:[],current_page:-1,requests:0,settings_popup:!1,settings:Nt,host:{ip:""},m_devices:[],now:Date.now(),release:void 0}},computed:{electron:function(){return window.require&&window.require("electron")},version:function(){return"1.7.4"},pages:function(){return Yt.concat(this.plugins)},devices:function(){var e=this;return this.m_devices.filter((function(t){return!e.settings.adapter_blacklist.split(" ").includes(t.adapter)})).filter((function(t){return e.now-t.since<Zt}))},deviceSelected:function(){var e=this;return!!this.devices.find((function(t){return t.ip===e.host.ip}))},reloadPlugins:function(){var e=this;return Object(p["debounce"])((function(){e.loadPlugins()}),this.electron?100:1500)}},watch:{current_page:function(e){localStorage.setItem("current_page",e)},settings_popup:function(e){e||localStorage.setItem("settings",JSON.stringify(this.settings))},host:function(e){e.ip&&(this.saveHost(e),!this.mounted||this.electron&&!this.deviceSelected||this.reloadPlugins())},deviceSelected:function(e){e&&(this.saveHost(this.host),this.loadPlugins())},settings:function(e){var t=this,s=e.port;if(this.electron){var n=this.electron.ipcRenderer;n.removeAllListeners("search-devices"),n.send("search-devices",s),n.on("search-devices",(function(e,s){var n,a=s.addresses,i=Object(c["a"])(s,["addresses"]),l=t.devices,u=Date.now(),d=["name","adapter","ip","appId","version"],h=Object(o["a"])(a);try{var f=function(){var e=n.value,t=Object(r["a"])(Object(r["a"])(Object(r["a"])({},i),e),{},{since:u});l=l.filter((function(e){return d.some((function(s){return e[s]!==t[s]}))})),l.push(t)};for(h.s();!(n=h.n()).done;)f()}catch(v){h.e(v)}finally{h.f()}t.m_devices=Object(p["orderBy"])(l,d)}))}}},created:function(){this.$http.defaults.baseURL="",setInterval(this.ticker,Zt)},beforeMount:function(){var e=this;this.electron&&this.electron.ipcRenderer.removeAllListeners("search-devices"),this.settings=Object(p["defaultsDeep"])(JSON.parse(localStorage.getItem("settings")),Nt),this.host=JSON.parse(localStorage.getItem("host"))||{},this.host.ip&&this.$nextTick((function(){e.loadPlugins()}))},mounted:function(){var e=this;this.$nextTick((function(){e.mounted=!0})),Qt(this.version).then((function(t){e.release=t}))},methods:{open:open.bind(window),ticker:function(){this.now=Date.now()},saveHost:function(e){this.$http.defaults.baseURL="http://".concat(e.ip,":").concat(this.settings.port),localStorage.setItem("host",JSON.stringify(e))},loadPlugins:function(){var e=this;return Gt(),this.$http.get("/plugins").then((function(t){var s=t.data;e.plugins=s})).finally((function(){var t=parseInt(localStorage.getItem("current_page"));e.current_page=Math.min(Math.max(1,t),e.pages.length)}))},setRequestsCount:function(e){this.requests=e}}},es=Xt,ts=(s("4332"),s("5c64"),s("7496")),ss=s("a75b"),ns=s("553a"),as=s("7e85"),is=s("e516"),rs=s("9c54"),os=s("56a4"),cs=Object(S["a"])(es,a,i,!1,null,"bb08b728",null),ls=cs.exports;j()(cs,{VApp:ts["a"],VBtn:O["a"],VContent:ss["a"],VFadeTransition:nt["d"],VFlex:I["a"],VFooter:ns["a"],VIcon:P["a"],VLayout:B["a"],VRow:qt["a"],VSpacer:Q["a"],VStepper:as["a"],VStepperContent:is["a"],VStepperHeader:rs["a"],VStepperItems:rs["b"],VStepperStep:os["a"]});var us=s("f309");n["a"].use(us["a"]);var ds=new us["a"]({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},themes:{light:{primary:"#2196F3",accent:"#9C27B0",secondary:"#30B1DC",success:"#4CAF50",info:"#2196F3",warning:"#FB8C00",error:"#FF5252",controls:"#FFFFFF",neutral:"#666666",text:"#616161",panel:"#f2f2f2",controls_border:"#D5D5D5"},dark:{primary:"#21CFF3",accent:"#FFE18D",secondary:"#21CFF3",success:"#4CAF50",info:"#2196F3",warning:"#FB8C00",error:"#FF5252",controls:"#424242",neutral:"#CCCCCC",text:"#FFFFFF",panel:"#303030",controls_border:"#494949"}}}});n["a"].mixin({computed:{dark_mode:{get:function(){return this.$vuetify.theme.dark},set:function(e){this.$vuetify.theme.dark=e,localStorage.setItem("dark",JSON.stringify(e))}}}});var hs=s("b6d0");n["a"].use(hs["a"]);var ps=s("998c"),fs=s.n(ps);n["a"].use(fs.a),n["a"].directive("blur",{inserted:function(e){e.onfocus=function(e){return e.target.blur()}}});s("c1ea"),s("f24d");new n["a"]({vuetify:ds,render:function(e){return e(ls)}}).$mount("#app")},"5c64":function(e,t,s){"use strict";var n=s("d32a"),a=s.n(n);a.a},"6cec":function(e,t,s){},7020:function(e,t,s){},7105:function(e,t,s){"use strict";var n=s("ac0e"),a=s.n(n);a.a},"75db":function(e,t,s){},"7df6":function(e,t,s){},"888b":function(e,t,s){"use strict";var n=s("539f"),a=s.n(n);a.a},"95e1":function(e,t,s){},"9d0b":function(e,t,s){"use strict";var n=s("75db"),a=s.n(n);a.a},"9d98":function(e,t,s){"use strict";var n=s("6cec"),a=s.n(n);a.a},a819:function(e,t,s){"use strict";var n=s("7020"),a=s.n(n);a.a},ac0e:function(e,t,s){},b4d4:function(e,t,s){},b4dc:function(e,t,s){"use strict";var n=s("1543"),a=s.n(n);a.a},b7f5:function(e,t,s){},bbab:function(e,t,s){},bceb:function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return l}));s("a15b"),s("fb6a"),s("a434"),s("ace4"),s("d3b7"),s("ac1f"),s("25f0"),s("841c"),s("1276"),s("5cc6"),s("9a8c"),s("a975"),s("735e"),s("c1ac"),s("d139"),s("3a7b"),s("d5d6"),s("82f8"),s("e91f"),s("60bd"),s("5f96"),s("3280"),s("3fcc"),s("ca91"),s("25a1"),s("cd26"),s("3c5d"),s("2954"),s("649e"),s("219c"),s("170b"),s("b39a"),s("72f7");var n=s("3835"),a=s("b85c"),i=s("470b"),r=s.n(i);function o(e){var t=document.createElement("a");return t.href=e,{pathname:t.pathname,origin:t.origin,search:t.search}}function c(e){var t,s={},i=Object(a["a"])(e.split("\n"));try{for(i.s();!(t=i.n()).done;){var r=t.value,c=r.split(": "),l=Object(n["a"])(c,2),u=l[0],d=l[1];u&&(s[u.toLowerCase()]=d)}}catch(h){i.e(h)}finally{i.f()}return s.url=o(s.url),s}function l(t){for(var s=new Uint8Array(t.data),n=-1,a=0;a<s.length&&n<0;a++)"\n"===String.fromCharCode(s[a])&&"\n"===String.fromCharCode(s[a+1])&&(n=a+1);if(n>=0){var i=new TextDecoder("utf-8"),o=i.decode(s.slice(0,n)).toString().split("\n"),l=o.splice(0,1).pop(),u=o.join("\n");o=c(u);var d=new Blob([r.a.gunzipSync(e.from(t.data,n+1))],{type:o["content-type"]});return{uid:l,headers:o,raw_headers:u,body:d}}return!1}}).call(this,s("b639").Buffer)},c748:function(e,t,s){"use strict";var n=s("7df6"),a=s.n(n);a.a},ced4:function(e,t,s){},d06e:function(e,t,s){"use strict";var n=s("b7f5"),a=s.n(n);a.a},d32a:function(e,t,s){},d4af:function(e,t,s){"use strict";var n=s("0f32"),a=s.n(n);a.a},e428:function(e,t,s){},ef47:function(e,t,s){},f24d:function(e,t,s){}});
//# sourceMappingURL=app.d64add88.js.map